language: r
sudo: false

r_github_packages: 
  - jimhester/covr

env:
  global:
  - secure: "xN4G4VtP9oCofIJW03YMJoanKiSzihU0GcnHZAbAszgN1t38t9TgbOV02bHKdlZ2msZTA0WoMbjP1I0/l9YixG0dSKoUCxNU0SmJ/SDsUN50QBMgNxLRXM97EKFX9rtRPJwP4pL7R7l/2VTNNL9Thk/nemISxujBHavPfe7p8RA="
  
notifications:
  slack: talkstats:AdIullnahcEy4dX12JYbD4G9
  email:
    on_success:      change
    on_failure:      change

    
after_success:
  - Rscript -e 'covr::coveralls()'
  
r_build_args: "--resave-data=best"
r_check_args: "--as-cran"

r:
    - oldrel
    - release
    - devel
os:
    - linux
    - osx

matrix:
    fast_finish: true
    allow_failures:
    -   r: oldrel
        os: osx
    -   r: release
        os: osx
    -   r: devel
        os: osx 


